<!DOCTYPE html>
<html lang="pt-BR">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="assets/css/style.css">
<link rel="icon" href="assets/images/LagunaSchool.png">
<title>AcademyFlow - Login</title>
<!DOCTYPE html>
<html lang="pt-BR">
<link rel="stylesheet" href="assets/css/style.css">
<body>
    <div class="container">
        <div class="cabecalho">
            <img src="assets/images/logo.png" alt="">
            <h2>AcademyFlow</h2>
        </div>
        <div class="bloco">
            <label for="usuario">Usu√°rio</label>
            <input type="text" placeholder="Nome Completo" id="usuario" name="usuario" required>
        </div>
        <div class="bloco">
            <label for="senha">Senha</label>
            <div class="inputsenha">
                <input type="password" placeholder="M√≠nimo 8 caracteres" id="senha" name="senha" minlength="8" required>
                <button type="button" onclick="togglePassword()">üëÅÔ∏è</button>
            </div>
        </div>
        <div class="bloco">
            <label for="tipo">Perfil</label>
            <select id="tipo">
              <option value="aluno">Aluno</option>
              <option value="professor">Professor</option>
            </select>
        </div>
        <button onclick="enviarDados()" id="enviar">Enviar</button>
    </div>

  <script>
    // Fun√ß√£o para exibir a senha (mostrar/esconder)
    function togglePassword() {
      var senha = document.getElementById("senha");
      if (senha.type === "password") {
        senha.type = "text"; // Mudar para mostrar a senha
      } else {
        senha.type = "password"; // Mudar para esconder a senha
      }
    }

    // Fun√ß√£o para enviar os dados e atualizar a query string
    function enviarDados() {
      const usuario = document.getElementById('usuario').value.trim();
      const senha = document.getElementById('senha').value;
      const tipo = document.getElementById('tipo').value;

      // Verifica√ß√£o b√°sica para garantir que os campos n√£o est√£o vazios
      if (!usuario || !senha) {
        alert('Por favor, preencha o nome e a senha.');
        return;
      }

      const url = new URL(window.location.href);

      // Adiciona ou atualiza os par√¢metros na URL
      url.searchParams.set('tipo', tipo);
      url.searchParams.set('usuario', usuario);
      url.searchParams.set('senha', senha);

      // Atualiza a URL no navegador sem recarregar a p√°gina
      window.history.pushState({}, '', url);

      // Atualiza os dados exibidos na p√°gina
      atualizarExibicao();

      // Limpa os dados ap√≥s o envio
      limparCampos();
    }

    // Fun√ß√£o para atualizar os dados da p√°gina com base na query string
    function atualizarExibicao() {
      const params = new URLSearchParams(window.location.search);

      // Pega os par√¢metros da query string
      const tipo = params.get('tipo') || 'N√£o informado';
      const usuario = params.get('usuario') || 'N√£o informado';
      const senha = params.get('senha') || 'N√£o informada';

      // Atualiza os elementos HTML com os valores
      document.getElementById('usuarioDisplay').textContent = usuario;
      document.getElementById('senhaDisplay').textContent = senha;
      document.getElementById('tipoDisplay').textContent = tipo;

      // Atualiza os campos de input com os valores da query string (facilita o preenchimento ap√≥s a atualiza√ß√£o)
      document.getElementById('usuario').value = usuario;
      document.getElementById('senha').value = senha;
      document.getElementById('tipo').value = tipo;
    }

    // Fun√ß√£o para limpar os campos de entrada e as exibi√ß√µes
    function limparCampos() {
      // Limpar campos de input
      document.getElementById('usuario').value = '';
      document.getElementById('senha').value = '';
      document.getElementById('tipo').value = 'aluno'; // Definido como padr√£o, pode ser 'professor' tamb√©m
      // Limpar exibi√ß√µes de dados
      document.getElementById('usuarioDisplay').textContent = 'N√£o informado';
      document.getElementById('senhaDisplay').textContent = 'N√£o informada';
      document.getElementById('tipoDisplay').textContent = 'N√£o informado';
    }

    // Atualiza os dados assim que a p√°gina √© carregada
    window.onload = atualizarExibicao;
  </script>

</body>
</html>
